import{e as b}from"./chunk-7VHYFQUO.js";import{K as s,L as f,M as d,R as p,Ta as u,X as h,Za as g,cb as _,db as v,kb as C,r as l,rb as y,s as m,tb as S}from"./chunk-D3PDAAZ7.js";var w={formId:"articletag",title:"Articletag",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill articletag title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill articletag description"},{name:"Label",value:"Description"}]}]};var T=(()=>{class e extends v{constructor(){super({name:"articletag"}),this.articletags=this.getDocs(),this.articletagsByAuthor={},this.get(),this.filteredDocuments(this.articletagsByAuthor)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var I=(()=>{class e{get rows(){return this._articletagService.articletags}constructor(r,i,t,a,c){this._translate=r,this._articletagService=i,this._alert=t,this._form=a,this._core=c,this.columns=["name","description"],this.form=this._form.getForm("articletag",w),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(o,n)=>{this._preCreate(o),this._articletagService.create(o),n()}})},update:o=>{this._form.modal(this.form,[],o).then(n=>{this._core.copy(n,o),this._articletagService.update(o)})},delete:o=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this articletag?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._articletagService.delete(o)}}]})},buttons:[{icon:"cloud_download",click:o=>{this._form.modalUnique("articletag","url",o)}}],headerButtons:[{icon:"playlist_add",click:this._bulkManagement(),class:"playlist"},{icon:"edit_note",click:this._bulkManagement(!1),class:"edit"}]}}_bulkManagement(r=!0){return()=>{this._form.modalDocs(r?[]:this.rows).then(i=>{if(r)for(let t of i)this._preCreate(t),this._articletagService.create(t);else{for(let t of this.rows)i.find(a=>a._id===t._id)||this._articletagService.delete(t);for(let t of i){let a=this.rows.find(c=>c._id===t._id);a?(this._core.copy(t,a),this._articletagService.update(a)):(this._preCreate(t),this._articletagService.create(t))}}})}}_preCreate(r){delete r.__created}static{this.\u0275fac=function(i){return new(i||e)(s(C),s(T),s(_),s(S),s(g))}}static{this.\u0275cmp=f({type:e,selectors:[["ng-component"]],standalone:!1,decls:1,vars:3,consts:[["title","Tags",3,"columns","config","rows"]],template:function(i,t){i&1&&h(0,"wtable",0),i&2&&p("columns",t.columns)("config",t.config)("rows",t.rows)},dependencies:[y],encapsulation:2})}}return e})();var j=[{path:"",component:I}],Y=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=d({type:e})}static{this.\u0275inj=m({imports:[u.forChild(j),b]})}}return e})();export{Y as TagsModule};
